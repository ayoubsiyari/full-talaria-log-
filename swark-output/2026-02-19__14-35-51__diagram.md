<p align="center">
    <a href="https://swark.io">
        <img src="https://raw.githubusercontent.com/swark-io/swark/refs/heads/main/assets/logo/swark-logo-dark-mode.png" width="10%" />
    </a>
</p>
<p align="center">
    <b>Automatic Architecture Diagrams from Code</b><br />
    <a href="https://github.com/swark-io/swark">GitHub</a> • <a href="https://swark.io">Website</a> • <a href="mailto:contact@swark.io">Contact Us</a>
</p>

## Usage Instructions

1. **Render the Diagram**: Use the links below to open it in Mermaid Live Editor, or install the [Mermaid Support](https://marketplace.visualstudio.com/items?itemName=bierner.markdown-mermaid) extension.
2. **Recommended Model**: If available for you, use `claude-3.5-sonnet` [language model](vscode://settings/swark.languageModel). It can process more files and generates better diagrams.
3. **Iterate for Best Results**: Language models are non-deterministic. Generate the diagram multiple times and choose the best result.

## Generated Content
**Model**: GPT-4o - [Change Model](vscode://settings/swark.languageModel)  
**Mermaid Live Editor**: [View](https://mermaid.live/view#pako:eNp9k9tOGzEQhl9l5WucB8hFpUJKSQsUmtx5EZrYk82ADysfAhHi3etdl2QbtvHName-Ofy_5TcmnUI2ZbVtPLSbajmrbZVPSKsSuPTORrSqhLvzVSw9KLLNxQZ8nDyF14eK8y_VuZB9wDiVNOb4w6CmJy4KwQ2QHcvP_ubJKpIQnQ9j1LdPFHeeGrKg-Qrkc2rHqi4FGvdEvCX5jH6M-C6Uh5esi0fndOA9PwZeHYGgtmAlKr51OpmB8t62Iz_P84b_2DkX0NJjQL_Na7W74uUPAVnOLpLsQgO4z_4Uziv0vCsieWR1Qa6FBKs0coXdDU9enP8ku5A3J0wfEzCDCCsIeOhzKxb31xRxnyoa5seTbv_fdBHzCqk9VPwSoQvtDZmfcDSRHvh5Jyy-xol0dk3NJIZSfy8ikM6XpgaZQVEP_RatC1GG8MGYk07cUP5GcjYcGi0E2u1-6xOKr5zBFpqBjUtRpj5qJ0F3l9D3uBv0YGfMoM_PR-Un-1azuEGDNZtWNVO4hqRjzd4zlFoFEWcEeZZh0-gTnjFI0S12Vn78e5eaDZuuQQd8_wPCh0DM) | [Edit](https://mermaid.live/edit#pako:eNp9k9tOGzEQhl9l5WucB8hFpUJKSQsUmtx5EZrYk82ADysfAhHi3etdl2QbtvHName-Ofy_5TcmnUI2ZbVtPLSbajmrbZVPSKsSuPTORrSqhLvzVSw9KLLNxQZ8nDyF14eK8y_VuZB9wDiVNOb4w6CmJy4KwQ2QHcvP_ubJKpIQnQ9j1LdPFHeeGrKg-Qrkc2rHqi4FGvdEvCX5jH6M-C6Uh5esi0fndOA9PwZeHYGgtmAlKr51OpmB8t62Iz_P84b_2DkX0NJjQL_Na7W74uUPAVnOLpLsQgO4z_4Uziv0vCsieWR1Qa6FBKs0coXdDU9enP8ku5A3J0wfEzCDCCsIeOhzKxb31xRxnyoa5seTbv_fdBHzCqk9VPwSoQvtDZmfcDSRHvh5Jyy-xol0dk3NJIZSfy8ikM6XpgaZQVEP_RatC1GG8MGYk07cUP5GcjYcGi0E2u1-6xOKr5zBFpqBjUtRpj5qJ0F3l9D3uBv0YGfMoM_PR-Un-1azuEGDNZtWNVO4hqRjzd4zlFoFEWcEeZZh0-gTnjFI0S12Vn78e5eaDZuuQQd8_wPCh0DM)

```mermaid
flowchart LR
    U[Browser]

    subgraph G["Gateway: homepage (nginx @ :3000)"]
        NGINX["nginx.local.conf router"]
        STATIC["/ -> homepage static export (homepage/out)"]
        CHART_PROXY["/api/* and /chart/* -> trading-chart:8000"]
        JOURNAL_API_PROXY["/journal/api/* -> journal-backend:5000/api/*"]
        JOURNAL_FE_PROXY["/journal/* -> journal-frontend:80/*"]
        ADMIN_DATASET_REDIRECT["/dashboard/admin/datasets -> /chart/admin-datasets.html"]
    end

    subgraph TC["trading-chart service (FastAPI)"]
        API["api_server.py"]
        CHART_UI["chart HTML + modules + indicators"]
        SQLITE[("SQLite: /app/db/chart_data.db")]
        BIN[("CSV/BIN storage: /app/uploads")]
        API --> SQLITE
        API --> BIN
        API --> CHART_UI
    end

    subgraph J["Journal services"]
        JFE["journal-frontend (React SPA)"]
        JBE["journal-backend (Flask app.py)"]
        PG[("PostgreSQL (db service)")]
        JFE -->|/journal/api/*| JBE
        JBE --> PG
    end

    subgraph C["Orchestration"]
        DC["docker-compose.yml"]
        DC --> NGINX
        DC --> API
        DC --> JFE
        DC --> JBE
        DC --> PG
    end

    U --> NGINX
    NGINX --> STATIC
    NGINX --> CHART_PROXY --> API
    NGINX --> JOURNAL_API_PROXY --> JBE
    NGINX --> JOURNAL_FE_PROXY --> JFE
    NGINX --> ADMIN_DATASET_REDIRECT --> API
```